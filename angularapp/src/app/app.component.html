<body>
  <h1>Books</h1>

  <p *ngIf="errorMsg"><em>An error occurred while loading books: {{errorMsg}}</em></p>
  <p *ngIf="!books"><em>Loading books...</em></p>

  <div *ngIf="books"
       infinite-scroll
       [infiniteScrollThrottle]="1000"
       (scrolled)="getBooks()">
    <mat-card *ngFor="let book of books">
      <mat-card-header>
        <div>
          <mat-card-title>{{ book.title }}</mat-card-title>
          <mat-card-subtitle>{{ book.author }}</mat-card-subtitle>
          <mat-card-subtitle>Added {{ book.timestamp }}</mat-card-subtitle>
        </div>
      </mat-card-header>
    </mat-card>
  </div>
  <button (click)="addBook()">Add book</button>
</body>
